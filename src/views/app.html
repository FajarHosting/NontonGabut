<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Stream App</title>
<style>
:root{
  --bg:#0b1020;
  --card:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.12);
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.72);
  --a:#6ee7ff;
  --b:#a78bfa;
}
*{box-sizing:border-box;font-family:system-ui}
body{margin:0;background:linear-gradient(180deg,#070a14,var(--bg));color:var(--text)}
.wrap{max-width:1200px;margin:0 auto;padding:14px 14px 86px}
header{
  position:sticky;top:0;z-index:10;
  background:rgba(7,10,20,.72);backdrop-filter:blur(14px);
  border-bottom:1px solid var(--border);
}
.headerIn{max-width:1200px;margin:0 auto;padding:12px 14px;display:flex;align-items:center;justify-content:space-between;gap:12px}
.userBox{display:flex;gap:10px;align-items:center}
.badge{font-size:12px;opacity:.8}
.avatarBtn{
  width:42px;height:42px;border-radius:14px;
  border:1px solid var(--border);
  overflow:hidden;cursor:pointer;background:var(--card);
}
.avatarBtn img{width:100%;height:100%;object-fit:cover;display:block}
.section{display:none}
.section.active{display:block}

h3{margin:14px 0 10px}
.slider{
  display:flex;gap:12px;overflow-x:auto;padding:4px 2px 10px;
  scroll-snap-type:x mandatory;
}
.slider::-webkit-scrollbar{display:none}
.miniCard{
  min-width:130px;max-width:130px;
  background:var(--card);border:1px solid var(--border);
  border-radius:16px;overflow:hidden;
  scroll-snap-align:start;cursor:pointer;
}
.miniCard img{width:100%;height:170px;object-fit:cover;display:block}
.miniCard .t{padding:8px;font-size:12px;font-weight:800}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:12px;
}
.grid .miniCard{min-width:auto;max-width:none}
.grid .miniCard img{height:150px}

.searchBox{
  background:var(--card);border:1px solid var(--border);
  padding:12px;border-radius:18px;
}
input,select,button{
  padding:12px;border-radius:14px;border:1px solid var(--border);
  background:rgba(255,255,255,.05);color:var(--text);
}
button.primary{
  border:none;background:linear-gradient(135deg,var(--a),var(--b));
  font-weight:900;cursor:pointer;
}
.row{display:flex;gap:10px;flex-wrap:wrap}
.row > *{flex:1;min-width:140px}

.histItem{
  display:flex;gap:12px;align-items:center;
  background:var(--card);border:1px solid var(--border);
  border-radius:16px;padding:10px;margin-bottom:10px;cursor:pointer;
}
.histItem img{width:54px;height:72px;border-radius:12px;object-fit:cover;border:1px solid var(--border)}
.small{font-size:12px;color:var(--muted)}

.bottomNav{
  position:fixed;left:0;right:0;bottom:0;z-index:30;
  background:rgba(7,10,20,.85);backdrop-filter:blur(14px);
  border-top:1px solid var(--border);
}
.navIn{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;padding:10px 14px}
.navBtn{
  flex:1;text-align:center;cursor:pointer;
  color:var(--muted);font-size:12px;
}
.navBtn .ico{display:block;font-size:18px;margin-bottom:4px}
.navBtn.active{color:var(--text)}
</style>
</head>
<body>

<header>
  <div class="headerIn">
    <div class="userBox">
      <div>
        <div style="font-weight:900">STREAM APP</div>
        <div class="badge" id="userLine">Memuatâ€¦</div>
      </div>
    </div>

    <div class="avatarBtn" onclick="location.href='/profile'" title="Profile">
      <img id="avatarImg" alt="" style="display:none">
      <div id="avatarFallback" style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:900;">ğŸ‘¤</div>
    </div>
  </div>
</header>

<div class="wrap">

  <div id="secHome" class="section active">
    <h3>ğŸ”¥ Populer</h3>
    <div id="slider" class="slider"></div>

    <h3>ğŸ“º Semua Konten</h3>
    <div id="gridAll" class="grid"></div>
  </div>

  <div id="secSearch" class="section">
    <h3>ğŸ“… Schedule / Cari Film</h3>
    <div class="searchBox">
      <div class="row">
        <input id="q" placeholder="Cari judulâ€¦">
        <select id="type">
          <option value="">Semua tipe</option>
          <option value="anime">Anime</option>
          <option value="donghua">Donghua</option>
          <option value="drakor">Drakor</option>
          <option value="dracin">Dracin</option>
        </select>
        <input id="genre" placeholder="Genre (misal: action)">
      </div>
      <div style="margin-top:10px">
        <button class="primary" onclick="doSearch()">Cari</button>
      </div>
    </div>

    <h3 style="margin-top:14px">Hasil</h3>
    <div id="gridSearch" class="grid"></div>
  </div>

  <div id="secHistory" class="section">
    <h3>ğŸï¸ History Nonton</h3>
    <div id="hist"></div>
  </div>

  <div id="secAccount" class="section">
    <h3>ğŸ‘¤ Akun</h3>
    <div class="searchBox">
      <div id="accInfo" class="small">Memuatâ€¦</div>
      <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
        <button class="primary" onclick="location.href='/profile'">Buka Profile</button>
        <button onclick="location.href='/billing'">Pembayaran</button>
        <button onclick="logout()">Logout</button>
      </div>
      <div class="small" style="margin-top:10px">
        Catatan: Gratis 10 episode pertama. Setelah itu unlock per episode via iklan atau premium.
      </div>
    </div>
  </div>

</div>

<div class="bottomNav">
  <div class="navIn">
    <div id="navHome" class="navBtn active" onclick="go('Home')"><span class="ico">ğŸ </span>Home</div>
    <div id="navSearch" class="navBtn" onclick="go('Search')"><span class="ico">ğŸ“…</span>Schedule</div>
    <div id="navHistory" class="navBtn" onclick="go('History')"><span class="ico">ğŸï¸</span>History</div>
    <div id="navAccount" class="navBtn" onclick="go('Account')"><span class="ico">ğŸ‘¤</span>Akun</div>
  </div>
</div>

<script src="/public/js/app.js"></script>
</body>
</html>