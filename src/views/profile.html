<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Profile</title>
<style>
:root{--bg:#0b1020;--card:rgba(255,255,255,.06);--border:rgba(255,255,255,.12);--text:#eaf0ff;--muted:rgba(234,240,255,.72);--a:#6ee7ff;--b:#a78bfa}
*{box-sizing:border-box;font-family:system-ui}
body{margin:0;background:linear-gradient(180deg,#070a14,var(--bg));color:var(--text)}
.wrap{max-width:980px;margin:0 auto;padding:14px 14px 18px}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:14px;margin-bottom:12px}
.row{display:flex;gap:14px;flex-wrap:wrap}
.avatar{width:120px;height:120px;border-radius:22px;overflow:hidden;border:1px solid var(--border);background:rgba(255,255,255,.05)}
.avatar img{width:100%;height:100%;object-fit:cover;display:block}
input,select,button{padding:12px;border-radius:14px;border:1px solid var(--border);background:rgba(255,255,255,.05);color:var(--text)}
button.primary{border:none;background:linear-gradient(135deg,var(--a),var(--b));color:#071018;font-weight:900;cursor:pointer}
.small{font-size:12px;color:var(--muted)}
table{width:100%;border-collapse:collapse}
td,th{padding:10px;border-bottom:1px solid rgba(255,255,255,.12);font-size:13px}
code{background:rgba(0,0,0,.35);padding:2px 6px;border-radius:10px}
</style>
</head>
<body>

<div class="wrap">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px">
    <button onclick="location.href='/app'" class="primary">â¬… App</button>
    <div style="font-weight:900">Profile</div>
    <button onclick="logout()">Logout</button>
  </div>

  <div class="card">
    <div class="row">
      <div class="avatar">
        <img id="av" style="display:none">
        <div id="avfb" style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:900">ðŸ‘¤</div>
      </div>
      <div style="flex:1;min-width:220px">
        <div id="info" style="font-weight:900"></div>
        <div class="small" id="meta"></div>

        <div style="margin-top:10px" class="row">
          <input id="url" placeholder="Avatar URL (https://...)">
          <button class="primary" onclick="saveAvatar()">Simpan Logo</button>
        </div>
        <div class="small" id="msg"></div>
      </div>
    </div>
  </div>

  <div class="card">
    <div style="font-weight:900;margin-bottom:8px">Join Langganan (Pembayaran)</div>
    <div class="row">
      <select id="plan">
        <option value="premium_3b">Premium 3 bulan</option>
        <option value="premium_12b">Premium 1 tahun</option>
      </select>
      <select id="method">
        <option value="qris">QRIS</option>
        <option value="dana">DANA</option>
        <option value="seabank">SeaBank</option>
      </select>
      <button class="primary" onclick="createTx()">Buat Pembayaran</button>
    </div>
    <div id="payBox" style="margin-top:12px"></div>
    <div class="small" style="margin-top:10px;opacity:.95">Setelah transfer, <b>upload bukti</b> di Riwayat Transaksi (status PENDING).</div>
    <div class="small" style="margin-top:10px">
      Status premium akan aktif setelah transaksi di-set <b>PAID</b> oleh admin.
    </div>
  </div>

  <div class="card">
    <div style="font-weight:900;margin-bottom:8px">Riwayat Transaksi</div>
    <div id="txBox" class="small">Memuatâ€¦</div>
  </div>
</div>

<script src="/public/js/profile.js"></script>
</body>
</html>